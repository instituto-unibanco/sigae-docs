openapi: 3.1.0
info:
  title: CircuitoGestaoApi
  description: Api de circuito de gestao da SIGAE OPEN SOURCE
  version: v1
x-sort: 2
paths:
  /CircuitoGestao/api/CircuitoDeGestao:
    get:
      tags:
        - CircuitoGestaoApi-CircuitoDeGestao
      summary: Buscar todos os circuitos de gestão
      responses:
        '200':
          description: Circuito de gestão
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProjetosViewModelApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ProjetosViewModelApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ProjetosViewModelApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    post:
      tags:
        - CircuitoGestaoApi-CircuitoDeGestao
      summary: Cria um circuito de gestão
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CriarCircuitoDeGestaoDTO'
          text/json:
            schema:
              $ref: '#/components/schemas/CriarCircuitoDeGestaoDTO'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CriarCircuitoDeGestaoDTO'
      responses:
        '200':
          description: Circuito de gestão criado com sucesso
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/CircuitoGestao/api/CircuitoDeGestao/{guid}':
    get:
      tags:
        - CircuitoGestaoApi-CircuitoDeGestao
      summary: Busca um circuito de gestão
      parameters:
        - name: guid
          in: path
          description: Guid do circuito de gestão
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Circuito de gestão
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProjetoViewModelApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ProjetoViewModelApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ProjetoViewModelApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - CircuitoGestaoApi-CircuitoDeGestao
      summary: Atualiza circuito de gestão
      parameters:
        - name: guid
          in: path
          description: Guid do circuito de gestão
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AtualizarCircuitoDeGestaoDTO'
          text/json:
            schema:
              $ref: '#/components/schemas/AtualizarCircuitoDeGestaoDTO'
          application/*+json:
            schema:
              $ref: '#/components/schemas/AtualizarCircuitoDeGestaoDTO'
      responses:
        '200':
          description: Circuito de gestão atualizado
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - CircuitoGestaoApi-CircuitoDeGestao
      summary: Deleta um circuito de gestão
      parameters:
        - name: guid
          in: path
          description: Guid do circuito de gestão
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Circuito de gestão deletado
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/CircuitoGestao/api/Projeto/{guid}/exists':
    get:
      tags:
        - CircuitoGestaoApi-Projeto
      summary: Verificar se projeto existe
      parameters:
        - name: guid
          in: path
          description: Guid do projeto
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Projeto existe ou não
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  /CircuitoGestao/api/Projeto:
    get:
      tags:
        - CircuitoGestaoApi-Projeto
      summary: Buscar todos os projetos
      responses:
        '200':
          description: Projetos
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProjetosViewModelApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ProjetosViewModelApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ProjetosViewModelApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    post:
      tags:
        - CircuitoGestaoApi-Projeto
      summary: Cria um projeto
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CriarProjetoDTO'
          text/json:
            schema:
              $ref: '#/components/schemas/CriarProjetoDTO'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CriarProjetoDTO'
      responses:
        '200':
          description: Projeto criado com sucesso
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/CircuitoGestao/api/Projeto/{guid}':
    get:
      tags:
        - CircuitoGestaoApi-Projeto
      summary: Busca um projeto
      parameters:
        - name: guid
          in: path
          description: Guid do projeto
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Projeto
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProjetoViewModelApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ProjetoViewModelApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ProjetoViewModelApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - CircuitoGestaoApi-Projeto
      summary: Atualiza projeto
      parameters:
        - name: guid
          in: path
          description: Guid do projeto
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AtualizarProjetoDTO'
          text/json:
            schema:
              $ref: '#/components/schemas/AtualizarProjetoDTO'
          application/*+json:
            schema:
              $ref: '#/components/schemas/AtualizarProjetoDTO'
      responses:
        '200':
          description: Projeto atualizado
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/GuidApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - CircuitoGestaoApi-Projeto
      summary: Deleta um projeto
      parameters:
        - name: guid
          in: path
          description: Guid do projeto
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Projeto deletado
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/BooleanApiResponse'
        '400':
          description: Erro de validação
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/ObjectApiResponse'
        '500':
          description: Erro interno
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
            text/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
components:
  schemas:
    ApiError:
      type: object
      properties:
        key:
          type: string
          description: Tipo do erro
          nullable: true
        message:
          type: string
          description: Mensagem do erro
          nullable: true
      additionalProperties: false
    AtualizarCircuitoDeGestaoCommand:
      type: object
      properties:
        guid:
          type: string
          format: uuid
        ano:
          type: integer
          format: int32
        projetoGuid:
          type: string
          format: uuid
        estado:
          $ref: '#/components/schemas/Estados'
      additionalProperties: false
    AtualizarCircuitoDeGestaoDTO:
      type: object
      properties:
        guid:
          type: string
          format: uuid
        ano:
          type: integer
          format: int32
        projetoGuid:
          type: string
          format: uuid
        estado:
          type: integer
          format: int32
        toCommand:
          $ref: '#/components/schemas/AtualizarCircuitoDeGestaoCommand'
      additionalProperties: false
    AtualizarProjetoDTO:
      type: object
      properties:
        nome:
          type: string
          nullable: true
      additionalProperties: false
    BooleanApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indica se a requisição foi bem sucedida
        data:
          type: boolean
          description: Conteúdo do retorno
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
          description: Lista de erros
          nullable: true
      additionalProperties: false
    CriarCircuitoDeGestaoCommand:
      type: object
      properties:
        estado:
          $ref: '#/components/schemas/Estados'
        projetoGuid:
          type: string
          format: uuid
        ano:
          type: integer
          format: int32
      additionalProperties: false
    CriarCircuitoDeGestaoDTO:
      type: object
      properties:
        ano:
          type: integer
          format: int32
        projetoGuid:
          type: string
          format: uuid
        estado:
          type: integer
          format: int32
        toCommand:
          $ref: '#/components/schemas/CriarCircuitoDeGestaoCommand'
      additionalProperties: false
    CriarProjetoDTO:
      type: object
      properties:
        nome:
          type: string
          nullable: true
      additionalProperties: false
    Estados:
      enum:
        - 0
        - 11
        - 12
        - 13
        - 14
        - 15
        - 16
        - 17
        - 21
        - 22
        - 23
        - 24
        - 25
        - 26
        - 27
        - 28
        - 29
        - 31
        - 32
        - 33
        - 35
        - 41
        - 42
        - 43
        - 50
        - 51
        - 52
        - 53
      type: integer
      format: int32
    GuidApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indica se a requisição foi bem sucedida
        data:
          type: string
          description: Conteúdo do retorno
          format: uuid
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
          description: Lista de erros
          nullable: true
      additionalProperties: false
    ObjectApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indica se a requisição foi bem sucedida
        data:
          description: Conteúdo do retorno
          nullable: true
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
          description: Lista de erros
          nullable: true
      additionalProperties: false
    ProblemDetails:
      type: object
      properties:
        type:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
        status:
          type: integer
          format: int32
          nullable: true
        detail:
          type: string
          nullable: true
        instance:
          type: string
          nullable: true
      additionalProperties: { }
    ProjetoViewModel:
      type: object
      properties:
        guid:
          type: string
          format: uuid
        nome:
          type: string
          nullable: true
      additionalProperties: false
    ProjetoViewModelApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indica se a requisição foi bem sucedida
        data:
          $ref: '#/components/schemas/ProjetoViewModel'
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
          description: Lista de erros
          nullable: true
      additionalProperties: false
    ProjetosViewModel:
      type: object
      properties:
        projetos:
          type: array
          items:
            $ref: '#/components/schemas/ProjetoViewModel'
          nullable: true
      additionalProperties: false
    ProjetosViewModelApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indica se a requisição foi bem sucedida
        data:
          $ref: '#/components/schemas/ProjetosViewModel'
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
          description: Lista de erros
          nullable: true
      additionalProperties: false